(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[13],{R0KV:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var d=l(a("bx4M"));a("2qtc");var r=l(a("kLXV"));a("sRBo");var u=l(a("kaz8"));a("5NDa");var i=l(a("5rEg"));a("g9YV");var o=l(a("wCAj"));a("+L6B");var f=l(a("2/Rp")),s=l(a("MVZn")),c=l(a("lwsE")),m=l(a("W8MJ")),p=l(a("a1gu")),h=l(a("Nsbk")),v=l(a("7W2i"));a("OaEy");var E=l(a("2fM7"));a("y8nQ");var g,y,w,I=l(a("Vl3Y")),M=n(a("q1tI")),k=a("MuoO"),b=l(a("wd/R")),q=l(a("zHco")),O=l(a("B9tY")),V=I.default.Item,C=E.default.Option,Y=(g=(0,k.connect)(function(e){var t=e.field,a=e.loading;return{fields:t.list,loading:a.models.dept}}),y=I.default.create(),g(w=y(w=function(e){function t(){var e,a;(0,c.default)(this,t);for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return a=(0,p.default)(this,(e=(0,h.default)(t)).call.apply(e,[this].concat(n))),a.state={target:null,showModal:!1},a.handleAddItem=function(){a.setState({target:null,showModal:!0})},a.handleEditItem=function(e){a.setState({target:e,showModal:!0})},a.OKHandler=function(){var e=a.props,t=e.form.validateFields,l=e.dispatch,n=a.state.target;t(function(e,t){e||(l(n?{type:"field/edit",payload:(0,s.default)({},n,t)}:{type:"field/add",payload:(0,s.default)({},t)}),setTimeout(function(){a.setState({showModal:!1})},100))})},a}return(0,v.default)(t,e),(0,m.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"field/queryAll"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.fields,l=t.loading,n=t.form.getFieldDecorator,s=this.state,c=s.target,m=s.showModal,p=[{title:"\u5b57\u6bb5ID",dataIndex:"id"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u7c7b\u578b",dataIndex:"type",render:function(e){return"Integers"===e?"\u6574\u6570":"Float"===e?"\u5c0f\u6570\uff08\u4e24\u4f4d\uff09":"\u6587\u672c"}},{title:"\u662f\u5426\u5fc5\u586b",dataIndex:"required",render:function(e){return e?"\u662f":"\u5426"}},{title:"\u6dfb\u52a0\u65f6\u95f4",dataIndex:"addTime",render:function(e){return e&&M.default.createElement("span",null,(0,b.default)(e).format("YYYY-MM-DD"))}},{title:"\u64cd\u4f5c",render:function(t){return t&&M.default.createElement("a",{onClick:function(){e.handleEditItem(t)}},"\u7f16\u8f91")}}];return M.default.createElement(q.default,{title:"\u62a5\u8868\u5b57\u6bb5"},M.default.createElement(d.default,{bordered:!1},M.default.createElement(f.default,{type:"dashed",onClick:this.handleAddItem,style:{width:"100%",marginBottom:8},icon:"plus"},"\u6dfb\u52a0\u65b0\u5b57\u6bb5"),M.default.createElement("div",{className:O.default.tableList},M.default.createElement(o.default,{rowKey:"id",loading:l,columns:p,dataSource:a})),M.default.createElement(r.default,{title:c?"\u7f16\u8f91\u5b57\u6bb5":"\u6dfb\u52a0\u5b57\u6bb5",visible:m,destroyOnClose:!0,maskClosable:!1,onOk:this.OKHandler,onCancel:function(){e.setState({showModal:!1})}},M.default.createElement(I.default,null,M.default.createElement(V,{label:"\u540d\u79f0"},n("name",{initialValue:c?c.name:"",rules:[{required:!0,message:"\u5fc5\u586b\u9879"}]})(M.default.createElement(i.default,null))),M.default.createElement(V,{label:"\u7c7b\u578b"},n("type",{initialValue:c?c.type:"Integers",rules:[{required:!0,message:"\u5fc5\u586b\u9879"}]})(M.default.createElement(E.default,null,M.default.createElement(C,{value:"Integers"},"\u6574\u6570"),M.default.createElement(C,{value:"Float"},"\u5c0f\u6570(\u4e24\u4f4d)"),M.default.createElement(C,{value:"String"},"\u6587\u672c")))),M.default.createElement(I.default.Item,null,n("required",{valuePropName:"checked",initialValue:!c||c.required})(M.default.createElement(u.default,null,"\u5fc5\u586b\u9879")))))))}}]),t}(M.PureComponent))||w)||w),x=Y;t.default=x}}]);