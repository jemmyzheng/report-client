(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[12],{P3yv:function(e,t,a){"use strict";var l=a("TqRt"),n=a("284h");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,a("IzEo");var d=l(a("bx4M"));a("2qtc");var r=l(a("kLXV"));a("5NDa");var u=l(a("5rEg"));a("g9YV");var o=l(a("wCAj"));a("+L6B");var i=l(a("2/Rp")),s=l(a("MVZn")),f=l(a("lwsE")),c=l(a("W8MJ")),p=l(a("a1gu")),m=l(a("Nsbk")),h=l(a("7W2i"));a("y8nQ");var v,w,y,g=l(a("Vl3Y")),E=n(a("q1tI")),M=a("MuoO"),I=l(a("wd/R")),b=l(a("zHco")),k=l(a("B9tY")),C=g.default.Item,Y=(v=(0,M.connect)(function(e){var t=e.dept,a=e.loading;return{depts:t.list,loading:a.models.dept}}),w=g.default.create(),v(y=w(y=function(e){function t(){var e,a;(0,f.default)(this,t);for(var l=arguments.length,n=new Array(l),d=0;d<l;d++)n[d]=arguments[d];return a=(0,p.default)(this,(e=(0,m.default)(t)).call.apply(e,[this].concat(n))),a.state={target:null,showModal:!1},a.handleAddItem=function(){a.setState({target:null,showModal:!0})},a.handleEditItem=function(e){a.setState({target:e,showModal:!0})},a.OKHandler=function(){var e=a.props,t=e.form.validateFields,l=e.dispatch,n=a.state.target;t(function(e,t){e||(l(n?{type:"dept/edit",payload:(0,s.default)({},n,t)}:{type:"dept/add",payload:(0,s.default)({},t)}),setTimeout(function(){a.setState({showModal:!1})},100))})},a}return(0,h.default)(t,e),(0,c.default)(t,[{key:"componentDidMount",value:function(){var e=this.props.dispatch;e({type:"dept/queryAll"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.depts,l=t.loading,n=t.form.getFieldDecorator,s=this.state,f=s.target,c=s.showModal,p=[{title:"\u90e8\u95e8ID",dataIndex:"id"},{title:"\u540d\u79f0",dataIndex:"name"},{title:"\u6dfb\u52a0\u65f6\u95f4",dataIndex:"addTime",render:function(e){return e&&E.default.createElement("span",null,(0,I.default)(e).format("YYYY-MM-DD"))}},{title:"\u64cd\u4f5c",render:function(t){return t&&E.default.createElement("a",{onClick:function(){e.handleEditItem(t)}},"\u7f16\u8f91")}}];return E.default.createElement(b.default,{title:"\u90e8\u95e8\u7ba1\u7406"},E.default.createElement(d.default,{bordered:!1},E.default.createElement(i.default,{type:"dashed",onClick:this.handleAddItem,style:{width:"100%",marginBottom:8},icon:"plus"},"\u6dfb\u52a0\u90e8\u95e8"),E.default.createElement("div",{className:k.default.tableList},E.default.createElement(o.default,{rowKey:"id",loading:l,columns:p,dataSource:a.filter(function(e){return 0!==e.id})})),E.default.createElement(r.default,{title:f?"\u7f16\u8f91\u90e8\u95e8":"\u6dfb\u52a0\u90e8\u95e8",visible:c,destroyOnClose:!0,maskClosable:!1,onOk:this.OKHandler,onCancel:function(){e.setState({showModal:!1})}},E.default.createElement(g.default,null,E.default.createElement(C,{label:"\u540d\u79f0"},n("name",{initialValue:f?f.name:"",rules:[{required:!0,message:"\u5fc5\u586b\u9879"}]})(E.default.createElement(u.default,null)))))))}}]),t}(E.PureComponent))||y)||y),D=Y;t.default=D}}]);